"use strict";(self.webpackChunksaasus_platform_document=self.webpackChunksaasus_platform_document||[]).push([[3098],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var i=r(96540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},61295:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"part-4/mcp-server/bulk-user-registration","title":"Bulk User Registration Procedure","description":"Overview","source":"@site/versioned_docs/version-1.11/part-4/mcp-server/bulk-user-registration.md","sourceDirName":"part-4/mcp-server","slug":"/part-4/mcp-server/bulk-user-registration","permalink":"/docs/part-4/mcp-server/bulk-user-registration","draft":false,"unlisted":false,"tags":[],"version":"1.11","frontMatter":{"title":"Bulk User Registration Procedure","slug":"bulk-user-registration","excerpt":"","hidden":false,"createdAt":"Fri Jan 20 2023 01:47:47 GMT+0000 (Coordinated Universal Time)","updatedAt":"Wed May 22 2024 15:16:11 GMT+0000 (Coordinated Universal Time)"},"sidebar":"docsSidebar","previous":{"title":"Environment Information Acquisition Procedure","permalink":"/docs/part-4/mcp-server/clone-dev-settings"},"next":{"title":"User List CSV Export Procedure","permalink":"/docs/part-4/mcp-server/export-user-info-csv"}}');var t=r(74848),s=r(28453);const o={title:"Bulk User Registration Procedure",slug:"bulk-user-registration",excerpt:"",hidden:!1,createdAt:"Fri Jan 20 2023 01:47:47 GMT+0000 (Coordinated Universal Time)",updatedAt:"Wed May 22 2024 15:16:11 GMT+0000 (Coordinated Universal Time)"},a="SaaSus Platform Bulk User Registration Procedure",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Use Cases",id:"key-use-cases",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Important Prerequisites",id:"important-prerequisites",level:3},{value:"MCP Server Request Statement",id:"mcp-server-request-statement",level:2},{value:"Basic Request Statement",id:"basic-request-statement",level:3},{value:"CSV File Format",id:"csv-file-format",level:2},{value:"File Structure",id:"file-structure",level:3},{value:"Column Descriptions",id:"column-descriptions",level:3},{value:"Handling Multiple Tenants and Roles",id:"handling-multiple-tenants-and-roles",level:3},{value:"Integration with Export Function",id:"integration-with-export-function",level:2},{value:"CSV File Preparation",id:"csv-file-preparation",level:3},{value:"Recommended Workflow",id:"recommended-workflow",level:3},{value:"For Environment Migration",id:"for-environment-migration",level:4},{value:"For Adding Users to Existing Environment",id:"for-adding-users-to-existing-environment",level:4},{value:"Important Notes",id:"important-notes",level:2},{value:"About Environment Names",id:"about-environment-names",level:3},{value:"Data Consistency",id:"data-consistency",level:3},{value:"Error Handling",id:"error-handling",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"saasus-platform-bulk-user-registration-procedure",children:"SaaSus Platform Bulk User Registration Procedure"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"A procedure guide for efficiently registering multiple users in bulk from CSV files. Supports multiple tenant and role combinations with fully automated resource creation."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.a,{href:"/docs/part-4/mcp-server/export-user-info-csv",children:"CSV files exported using the User List CSV Export Procedure"})," can be used directly."]})}),"\n",(0,t.jsx)(n.h3,{id:"key-use-cases",children:"Key Use Cases"}),"\n",(0,t.jsx)(n.p,{children:"This feature is particularly useful for user migration between environments such as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Development \u2192 Staging Environment"}),": Replicate user configurations created and tested in development environment to staging environment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Staging \u2192 Production Environment"}),": Deploy verified user configurations from staging environment to production environment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Environment Reset"}),": Migrate existing environment user configurations to another environment for reset"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"SaaSus API MCP Server must be configured"}),"\n",(0,t.jsxs)(n.li,{children:["CSV file must be prepared in the appropriate format (files exported using ",(0,t.jsx)(n.a,{href:"/docs/part-4/mcp-server/export-user-info-csv",children:"User List CSV Export Procedure"})," are recommended)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"important-prerequisites",children:"Important Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"The destination environment must have the same resources defined as the CSV export source environment:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tenant Names"}),": All tenant names listed in the CSV must exist in the destination environment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Environments"}),": Environment names listed in the CSV must exist in the destination environment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Roles"}),": All role names listed in the CSV must be defined in the destination environment"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Custom Attributes"}),": Custom attributes (including name) included in the CSV must be defined in the destination environment"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If these resources do not exist, the corresponding rows will be skipped or errors will occur."}),"\n",(0,t.jsx)(n.h2,{id:"mcp-server-request-statement",children:"MCP Server Request Statement"}),"\n",(0,t.jsx)(n.h3,{id:"basic-request-statement",children:"Basic Request Statement"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Please read the saasus_users.csv file and execute bulk user registration using the SaaSus API MCP Server.\n\n\u3010Important\u3011Please execute all of the following processes automatically:\n\n1. CSV File Reading\n   - Email Address: User's email address (required)\n   - Tenant Name: Tenant name (required, separate rows for multiple tenants)\n   - Environment: Environment name (required, string like prod/dev/test)\n   - Role: Role name (required, single role, separate rows for multiple roles)\n   - Name: Name (set as attribute, optional)\n   - Custom Attributes: All columns to the right of role are treated as custom attributes (optional)\n\n2. Resource Verification and Validation (Optimized Processing)\n   - Check if custom attributes (including name) in CSV headers are defined, error at CSV reading time if they don't exist\n   - For each row, check in the following order and stop checking other items once skip is determined:\n     1. Check if tenant name exists, skip the row if it doesn't exist\n     2. Check if role name exists, skip the row if it doesn't exist\n     3. Get environment ID from environment name, skip the row if it doesn't exist\n\n3. Bulk User Registration\n   - Pre-processing: Read entire CSV file, execute validation, then group data by email address\n   - User Creation: Create SaaS users on first occurrence of each email address (no password, email notification)\n   - Tenant Processing: Create tenant users on first occurrence of each email address for each tenant and set name attribute\n   - Role Processing: Assign specified roles for each row\n   - Environment Setting: Get environment ID from environment name specified in CSV environment column and execute role assignment\n   - Duplicate Avoidance: Skip creation of existing SaaS users and tenant users, execute only role addition\n\n4. Result Reporting\n   - Details of processed CSV rows and success/skip/failure counts\n   - Reasons for skipped rows (non-existent tenant, role, environment name)\n   - Details of successfully registered users\n   - Detailed error information if any errors occurred\n\nPlease execute all processes automatically and provide a detailed report at the end.\n"})}),"\n",(0,t.jsx)(n.h2,{id:"csv-file-format",children:"CSV File Format"}),"\n",(0,t.jsx)(n.h3,{id:"file-structure",children:"File Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csv",children:"email,tenant_name,environment,role,name\nuser1@example.com,company_a,prod,admin,John Tanaka\nuser1@example.com,company_a,prod,user,John Tanaka\nuser2@example.com,company_a,prod,user,Jane Sato\nuser3@example.com,company_b,prod,user,Jiro Suzuki\nuser4@example.com,company_a,prod,user,Saburo Yamada\nuser4@example.com,company_a,prod,viewer,Saburo Yamada\nuser5@example.com,company_b,prod,admin,Misaki Takahashi\nuser5@example.com,company_a,prod,user,Misaki Takahashi\nuser5@example.com,company_b,prod,user,Misaki Takahashi\n"})}),"\n",(0,t.jsx)(n.h3,{id:"column-descriptions",children:"Column Descriptions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"email"}),": User's email address (required)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"tenant_name"}),": Tenant name to belong to (required, separate rows for multiple tenants, skip if doesn't exist)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"environment"}),": Environment name (required, string like prod/dev/test, skip if doesn't exist)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"role"}),": Role name to assign (required, single role, separate rows for multiple roles, skip if doesn't exist)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"name"}),": User's name (set as attribute, optional)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Custom Attributes"}),": All columns to the right of role are treated as custom attributes (optional, error at CSV reading time if attribute doesn't exist)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"handling-multiple-tenants-and-roles",children:"Handling Multiple Tenants and Roles"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multiple Roles"}),": When a user has multiple roles, separate them into different rows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multiple Tenants"}),": When a user belongs to multiple tenants, separate them into different rows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Combinations"}),": For multiple tenants \xd7 multiple roles, list all combinations in separate rows"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"integration-with-export-function",children:"Integration with Export Function"}),"\n",(0,t.jsx)(n.h3,{id:"csv-file-preparation",children:"CSV File Preparation"}),"\n",(0,t.jsxs)(n.p,{children:["CSV files exported using ",(0,t.jsx)(n.a,{href:"/docs/part-4/mcp-server/export-user-info-csv",children:"User List CSV Export Procedure"})," can be used directly. The CSV exported by the export function is fully compatible with the format expected by this bulk registration function."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important"}),": When using the export function, ensure the following required items for bulk registration are configured to be output:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Email Address = true"}),"\n",(0,t.jsx)(n.li,{children:"Tenant Name = true"}),"\n",(0,t.jsx)(n.li,{children:"Environment = true"}),"\n",(0,t.jsx)(n.li,{children:"Role = true"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If these items are not included, errors may occur during bulk registration processing."}),"\n",(0,t.jsx)(n.h3,{id:"recommended-workflow",children:"Recommended Workflow"}),"\n",(0,t.jsx)(n.h4,{id:"for-environment-migration",children:"For Environment Migration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CSV Export from Source Environment"}),": Use ",(0,t.jsx)(n.a,{href:"/docs/part-4/mcp-server/export-user-info-csv",children:"User List CSV Export Procedure"})," to export user information from the source environment (e.g., development environment) as CSV"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Verify Destination Environment Preparation"}),": Confirm that necessary resources (tenants, roles, custom attributes) are defined in the destination environment (e.g., staging environment)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Edit CSV (if necessary)"}),": Edit the CSV file if environment-specific adjustments are needed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execute Bulk Registration"}),": Use this procedure to execute bulk registration in the destination environment"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"for-adding-users-to-existing-environment",children:"For Adding Users to Existing Environment"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Existing Users"}),": Use ",(0,t.jsx)(n.a,{href:"/docs/part-4/mcp-server/export-user-info-csv",children:"User List CSV Export Procedure"})," to export current user information as CSV"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Edit CSV"}),": Add new users, change roles, etc."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execute Bulk Registration"}),": Use this procedure to execute bulk registration with the edited CSV file"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,t.jsx)(n.h3,{id:"about-environment-names",children:"About Environment Names"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The export function outputs environment names as strings (e.g., prod, dev, test)"}),"\n",(0,t.jsx)(n.li,{children:"During bulk registration, the corresponding environment ID is automatically retrieved from this environment name for processing"}),"\n",(0,t.jsx)(n.li,{children:"If a non-existent environment name is specified, the corresponding row will be skipped"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-consistency",children:"Data Consistency"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"When the same user belongs to multiple tenants, they are processed as separate rows for each tenant"}),"\n",(0,t.jsx)(n.li,{children:"When the same user has multiple roles, they are processed as separate rows for each role"}),"\n",(0,t.jsx)(n.li,{children:"Existing users and tenant users are not duplicated, only new roles are added"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Rows with non-existent tenant names, role names, or environment names are automatically skipped"}),"\n",(0,t.jsx)(n.li,{children:"If custom attributes are not defined, an error occurs at CSV reading time"}),"\n",(0,t.jsx)(n.li,{children:"Processing results are provided as detailed reports, allowing confirmation of success, skip, and failure details"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);