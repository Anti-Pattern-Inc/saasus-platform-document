"use strict";(self.webpackChunksaasus_platform_document=self.webpackChunksaasus_platform_document||[]).push([[6515],{4871:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>m,contentTitle:()=>c,default:()=>l,frontMatter:()=>u,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"part-6/implementation-guide/sample-application/metering-api","title":"Metering API Implementation Samples","description":"We will describe Implementation samples for each Metering API using SDK and an example of a feature using the Metering API.","source":"@site/versioned_docs/version-1.11/part-6/implementation-guide/sample-application/metering-api.md","sourceDirName":"part-6/implementation-guide/sample-application","slug":"/part-6/implementation-guide/sample-application/metering-api","permalink":"/docs/part-6/implementation-guide/sample-application/metering-api","draft":false,"unlisted":false,"tags":[],"version":"1.11","frontMatter":{"title":"Metering API Implementation Samples","slug":"metering-api","excerpt":"Implementation samples for each Metering API using SDK and examples of features using the Metering API","hidden":false,"createdAt":"Tue Nov 14 2023 06:22:12 GMT+0000 (Coordinated Universal Time)","updatedAt":"Thu Oct 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)"},"sidebar":"docsSidebar","previous":{"title":"Billing Dashboard Implementation","permalink":"/docs/part-6/implementation-guide/sample-application/billing-dashboard"},"next":{"title":"Implementation using SaaSus Platform (Serverless)","permalink":"/docs/part-6/implementation-guide/implementing-authentication-using-saasus-serverless"}}');var a=e(74848),r=e(28453),s=e(65537),o=e(79329);const u={title:"Metering API Implementation Samples",slug:"metering-api",excerpt:"Implementation samples for each Metering API using SDK and examples of features using the Metering API",hidden:!1,createdAt:"Tue Nov 14 2023 06:22:12 GMT+0000 (Coordinated Universal Time)",updatedAt:"Thu Oct 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)"},c="Implementation Sample",m={},p=[{value:"Get the Metering Unit Count for a Specified Date",id:"get-the-metering-unit-count-for-a-specified-date",level:2},{value:"Use Case",id:"use-case",level:3},{value:"Implementation Sample",id:"implementation-sample-1",level:3},{value:"Update the Metering Unit Count for a Specified Timestamp",id:"update-the-metering-unit-count-for-a-specified-timestamp",level:2},{value:"Use Case",id:"use-case-1",level:3},{value:"Implementation Sample",id:"implementation-sample-2",level:3},{value:"Delete the Metering Unit Count for a Specified Timestamp",id:"delete-the-metering-unit-count-for-a-specified-timestamp",level:2},{value:"Use Case",id:"use-case-2",level:3},{value:"Implementation Sample",id:"implementation-sample-3",level:3},{value:"Get the Metering Unit Count for Today",id:"get-the-metering-unit-count-for-today",level:2},{value:"Use Case",id:"use-case-3",level:3},{value:"Implementation Sample",id:"implementation-sample-4",level:3},{value:"Update the Current Time Metering Unit Count",id:"update-the-current-time-metering-unit-count",level:2},{value:"Use Case",id:"use-case-4",level:3},{value:"Implementation Sample",id:"implementation-sample-5",level:3},{value:"Get the Metering Unit Count for the Current Month",id:"get-the-metering-unit-count-for-the-current-month",level:2},{value:"Use Case",id:"use-case-5",level:3},{value:"Implementation Sample",id:"implementation-sample-6",level:3},{value:"Get the Metering Unit Count for a Specified Month",id:"get-the-metering-unit-count-for-a-specified-month",level:2},{value:"Use Case",id:"use-case-6",level:3},{value:"Implementation Sample",id:"implementation-sample-7",level:3},{value:"Get All Metering Unit Counts for a Specified Date",id:"get-all-metering-unit-counts-for-a-specified-date",level:2},{value:"Use Case",id:"use-case-7",level:3},{value:"Implementation Sample",id:"implementation-sample-8",level:3},{value:"Get All Metering Unit Counts for a Specified Month",id:"get-all-metering-unit-counts-for-a-specified-month",level:2},{value:"Use Case",id:"use-case-8",level:3},{value:"Implementation Sample",id:"implementation-sample-9",level:3}];function d(n){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"We will describe Implementation samples for each Metering API using SDK and an example of a feature using the Metering API."}),"\n",(0,a.jsx)(t.p,{children:"Please check the API documentation for details of each API."}),"\n",(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"implementation-sample",children:"Implementation Sample"})}),"\n",(0,a.jsx)(t.h2,{id:"get-the-metering-unit-count-for-a-specified-date",children:"Get the Metering Unit Count for a Specified Date"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/GetMeteringUnitDateCountByTenantIdAndUnitNameAndDate",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when you want to show usage to tenants."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-1",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",metastring:"PHP",children:"/**\n * Get the Metering Unit Count for a Specified Date\n *\n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @param string $date Date in yyyy-mm-dd format\n * @return array\n */\npublic function getCountOfSpecifiedDate(string $tenantId, string $meteringUnitName, string $date)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $unitCount = $pricingApi->getMeteringUnitDateCountByTenantIdAndUnitNameAndDate(\n        $tenantId,\n        $meteringUnitName,\n        $date\n    );\n  \n    return [\n        'count' => $unitCount->getCount(),\n        'date' => $unitCount->getDate(),\n        'meteringUnitName' => $unitCount->getMeteringUnitName(),\n    ];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Get the metering unit count for a specified date\n// tenantId: Tenant ID\n// unit: Metering unit name\n// date: date in yyyy-MM-dd format\n// returns: {"count": int, "date": string, "meteringUnitName": string}\nfunc getCountOfSpecifiedDate(c echo.Context) error {\n    tenantId := c.Param("tenantId")\n    unit := c.Param("unit")\n    date := c.Param("date")\n\n    resp, err := pricingClient.\n        GetMeteringUnitDateCountByTenantIdAndUnitNameAndDateWithResponse(\n            c.Request().Context(), tenantId, unit, date,\n        )\n    if err != nil || resp.JSON200 == nil {\n        return c.String(http.StatusInternalServerError, "pricing API error")\n    }\n\n    return c.JSON(http.StatusOK, echo.Map{\n        "count":            resp.JSON200.Count,\n        "date":             resp.JSON200.Date,\n        "meteringUnitName": resp.JSON200.MeteringUnitName,\n    })\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Get the metering unit count for a specified date\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# date: date in yyyy-MM-dd format\n# returns: {"count": int, "date": str, "meteringUnitName": str}\ndef get_count_of_specified_date(tenant_id: str, unit: str, date: str) -> Dict:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    cnt = metering_api.get_metering_unit_date_count_by_tenant_id_and_unit_name_and_date(\n        tenant_id=tenant_id,\n        metering_unit_name=unit,\n        var_date=date,\n    )\n    return {\n        "count": cnt.count,\n        "date": cnt.var_date,\n        "meteringUnitName": cnt.metering_unit_name,\n    }\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Get the metering unit count for a specified date\n// tenantId: Tenant ID\n// unit: Metering unit name\n// date: date in yyyy-MM-dd format\n@GetMapping("/tenants/{tenant_id}/metering/{unit:^(?!date$|month$).+}/date/{date}/count")\npublic ResponseEntity<?> getUnitDateCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit,\n        @PathVariable String date\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        MeteringUnitDateCount cnt = meteringApi\n            .getMeteringUnitDateCountByTenantIdAndUnitNameAndDate(tenantId, unit, date);\n\n        Map<String, Object> resp = new HashMap<>();\n        resp.put("count", cnt.getCount());\n        resp.put("date", cnt.getDate());\n        resp.put("meteringUnitName", cnt.getMeteringUnitName());\n        return ResponseEntity.ok(resp);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Get the metering unit count for a specified date</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="date">Date (yyyy-MM-dd)</param>\n/// <returns>JSON { count:int, date:string, meteringUnitName:string }</returns>\napp.MapGet("/tenants/{tenant_id}/metering/{unit}/date/{date}/count",\n    async (HttpContext context, string tenant_id, string unit, string date) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitDateCountByTenantIdAndUnitNameAndDateAsync(\n            tenant_id, unit, date);\n        return Results.Json(new {\n            count            = cnt.Count,\n            date             = cnt.Date,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Get the metering unit count for a specified date\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="date">Date (yyyy-MM-dd)</param>\n/// <returns>JSON { count:int, date:string, meteringUnitName:string }</returns>\n[HttpGet]\n[Route("tenants/{tenant_id}/metering/{unit}/date/{date}/count")]\npublic async Task<IHttpActionResult> GetUnitDateCount(\n    string tenant_id,\n    string unit,\n    string date)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitDateCountByTenantIdAndUnitNameAndDateAsync(\n            tenant_id, unit, date);\n        return Ok(new\n        {\n            count            = cnt.Count,\n            date             = cnt.Date,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"update-the-metering-unit-count-for-a-specified-timestamp",children:"Update the Metering Unit Count for a Specified Timestamp"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/UpdateMeteringUnitTimestampCount",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-1",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this for adjustments in case of mistakes in usage updates in past data."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-2",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Update the Metering Unit Count for a Specified Timestamp\n *\n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @param int $timestamp Timestamp in seconds\n * @param Request $request\n * @return array\n */\npublic function updateCountOfSpecifiedTimestamp(string $tenantId, string $meteringUnitName, int $timestamp, Request $request)\n{\n    // Retrieve the update method and count from the request\n    ['method' => $method, 'count' => $count] = $request->only(['method', 'count']);\n    $updateMeteringUnitTimeStampParam = new UpdateMeteringUnitTimestampCountParam();\n    $updateMeteringUnitTimeStampParam->setMethod($method)\n        ->setCount($count);\n    $unitCount = $this->saasusClient->getPricingClient()->updateMeteringUnitTimestampCount(\n        $tenantId, $meteringUnitName, $timestamp,\n        $updateMeteringUnitTimeStampParam\n    );\n  \n    return [\n        'count' => $unitCount->getCount(),\n        'timestamp' => $unitCount->getTimestamp(),\n        'meteringUnitName' => $unitCount->getMeteringUnitName(),\n     ];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Update the metering unit count for a specified timestamp\n// tenantId: Tenant ID\n// unit: Metering unit name\n// ts: Timestamp in seconds\n// body: {"method": "add|sub|direct", "count": int}\n// returns: {"count": int, "timestamp": int, "meteringUnitName": string}\nfunc updateCountOfSpecifiedTS(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tunit := c.Param("unit")\n\tts, err := strconv.ParseInt(c.Param("ts"), 10, 64)\n\tif err != nil {\n\t\treturn c.String(http.StatusBadRequest, "timestamp must be int")\n\t}\n\n\tvar body struct {\n\t\tMethod string `json:"method"` // add | sub | direct\n\t\tCount  int    `json:"count"`\n\t}\n\tif err := c.Bind(&body); err != nil {\n\t\treturn c.String(http.StatusBadRequest, "invalid body")\n\t}\n\n\tmethod := pricingapi.UpdateMeteringUnitTimestampCountMethod(body.Method)\n\tswitch method {\n\tcase pricingapi.Add, pricingapi.Sub, pricingapi.Direct:\n\tdefault:\n\t\treturn c.String(http.StatusBadRequest, "method must be add/sub/direct")\n\t}\n\n\tparam := pricingapi.UpdateMeteringUnitTimestampCountParam{Method: method, Count: body.Count}\n\n\tresp, err := pricingClient.\n\t\tUpdateMeteringUnitTimestampCountWithResponse(\n\t\t\tc.Request().Context(), tenantId, unit, int(ts), param)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\treturn c.JSON(http.StatusOK, resp.JSON200)\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Update the metering unit count for a specified timestamp\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# ts: Timestamp (seconds)\n# req: UpdateCountRequest(method="add|sub|direct", count=int)\n# returns: UpdateMeteringUnitTimestampCountParam response model\ndef update_count_of_specified_ts(tenant_id: str, unit: str, ts: int, req: UpdateCountRequest):\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    param = UpdateMeteringUnitTimestampCountParam(\n        method=UpdateMeteringUnitTimestampCountMethod(req.method),\n        count=req.count,\n    )\n    return metering_api.update_metering_unit_timestamp_count(\n        tenant_id=tenant_id,\n        metering_unit_name=unit,\n        timestamp=ts,\n        update_metering_unit_timestamp_count_param=param,\n    )\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Update the metering unit count for a specified timestamp\n// tenantId: Tenant ID\n// unit: Metering unit name\n// ts: Timestamp (seconds)\n// body: {"method":"add|sub|direct","count":int}\n@PutMapping("/tenants/{tenant_id}/metering/{unit}/timestamp/{ts}/count")\npublic ResponseEntity<?> updateUnitTimestampCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit,\n        @PathVariable long ts,\n        @RequestBody Map<String,Object> body\n) {\n    String method = (String) body.get("method");\n    Object cntVal = body.get("count");\n    if (!Arrays.asList("add","sub","direct").contains(method) || !(cntVal instanceof Number)) {\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST,\n            "request body must include method(add/sub/direct) & count(int)");\n    }\n\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        UpdateMeteringUnitTimestampCountParam param = new UpdateMeteringUnitTimestampCountParam()\n            .method(UpdateMeteringUnitTimestampCountMethod.fromValue(method))\n            .count(((Number)cntVal).intValue());\n\n        MeteringUnitTimestampCount res = meteringApi\n            .updateMeteringUnitTimestampCount(tenantId, unit, (int) ts, param);\n\n        return ResponseEntity.ok(res.toJson());\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Update the metering unit count for a specified timestamp</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="ts">Timestamp (seconds)</param>\n/// <param name="body">{"method":"add|sub|direct","count":int}</param>\n/// <returns>The updated MeteringUnitTimestampCount object</returns>\napp.MapPut("/tenants/{tenant_id}/metering/{unit}/timestamp/{ts}/count",\n    async (HttpContext context, string tenant_id, string unit, int ts, JsonElement body) =>\n{\n    try\n    {\n        var method = body.GetProperty("method").GetString()!;\n        var count  = body.GetProperty("count").GetInt32();\n        if (!new[] { "add", "sub", "direct" }.Contains(method))\n            return Results.BadRequest("method \u306f add|sub|direct \u306e\u3044\u305a\u308c\u304b\u3002");\n\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var param = new UpdateMeteringUnitTimestampCountParam(\n            method: Enum.Parse<UpdateMeteringUnitTimestampCountMethod>(method, true),\n            count:  count\n        );\n        var res = await metering.UpdateMeteringUnitTimestampCountAsync(\n            tenant_id, unit, ts, param);\n        return Results.Json(res);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Update the metering unit count for a specified timestamp\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="ts">Timestamp (seconds)</param>\n/// <param name="body">{"method":"add|sub|direct","count":int}</param>\n/// <returns>The updated MeteringUnitTimestampCount object</returns>\n[HttpPut]\n[Route("tenants/{tenant_id}/metering/{unit}/timestamp/{ts}/count")]\npublic async Task<IHttpActionResult> UpdateUnitTimestampCount(\n    string tenant_id,\n    string unit,\n    int ts,\n    [FromBody] UpdateRequestBody body)\n{\n    if (body == null || !new[] { "add", "sub", "direct" }.Contains(body.method))\n        return BadRequest("body must include method(add/sub/direct) & count(int)");\n\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var param = new UpdateMeteringUnitTimestampCountParam(\n            method: (UpdateMeteringUnitTimestampCountMethod)Enum.Parse(\n                typeof(UpdateMeteringUnitTimestampCountMethod), body.method, true),\n            count: body.count\n        );\n        var res = await metering.UpdateMeteringUnitTimestampCountAsync(\n            tenant_id, unit, ts, param);\n        return Ok(res);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"delete-the-metering-unit-count-for-a-specified-timestamp",children:"Delete the Metering Unit Count for a Specified Timestamp"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/DeleteMeteringUnitTimestampCount",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-2",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this for adjustments in case of mistakes in usage updates in past data."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-3",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Delete the Metering Unit Count for a Specified Timestamp\n *\n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @param int $timestamp Timestamp in seconds\n * @return array\n */\npublic function deleteCountOfSpecifiedTimestamp(string $tenantId, string $meteringUnitName, int $timestamp)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $pricingApi->deleteMeteringUnitTimestampCount(\n        $tenantId, $meteringUnitName, $timestamp\n    );\n\n    return ['status' => 'success'];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Delete the metering unit count for a specified timestamp\n// tenantId: Tenant ID\n// unit: Metering unit name\n// ts: Timestamp in seconds\n// returns: {"status":"success"}\nfunc deleteCountOfSpecifiedTS(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tunit := c.Param("unit")\n\tts, err := strconv.ParseInt(c.Param("ts"), 10, 64)\n\tif err != nil {\n\t\treturn c.String(http.StatusBadRequest, "timestamp must be int")\n\t}\n\n\t_, err = pricingClient.\n\t\tDeleteMeteringUnitTimestampCountWithResponse(\n\t\t\tc.Request().Context(), tenantId, unit, int(ts))\n\tif err != nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\treturn c.JSON(http.StatusOK, echo.Map{"status": "success"})\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Delete the metering unit count for a specified timestamp\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# ts: Timestamp in seconds\n# returns: {"status": "success"}\ndef delete_count_of_specified_ts(tenant_id: str, unit: str, ts: int) -> Dict:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    metering_api.delete_metering_unit_timestamp_count(\n        tenant_id=tenant_id,\n        metering_unit_name=unit,\n        timestamp=ts,\n    )\n    return {"status": "success"}\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Delete the metering unit count for a specified timestamp\n// tenantId: Tenant ID\n// unit: Metering unit name\n// ts: Timestamp (seconds)\n@DeleteMapping("/tenants/{tenant_id}/metering/{unit}/timestamp/{ts}/count")\npublic ResponseEntity<?> deleteUnitTimestampCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit,\n        @PathVariable long ts\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        meteringApi.deleteMeteringUnitTimestampCount(tenantId, unit, (int) ts);\n\n        Map<String,String> resp = new HashMap<>();\n        resp.put("status", "success");\n        return ResponseEntity.ok(resp);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Delete the metering unit count for a specified timestamp</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="ts">Timestamp (seconds)</param>\n/// <returns>{"status":"success"}</returns>\napp.MapDelete("/tenants/{tenant_id}/metering/{unit}/timestamp/{ts}/count",\n    async (HttpContext context, string tenant_id, string unit, int ts) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        await metering.DeleteMeteringUnitTimestampCountAsync(tenant_id, unit, ts);\n        return Results.Json(new { status = "success" });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Delete the metering unit count for a specified timestamp\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="ts">Timestamp (seconds)</param>\n/// <returns>{"status":"success"}</returns>\n[HttpDelete]\n[Route("tenants/{tenant_id}/metering/{unit}/timestamp/{ts}/count")]\npublic async Task<IHttpActionResult> DeleteUnitTimestampCount(\n    string tenant_id,\n    string unit,\n    int ts)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        await metering.DeleteMeteringUnitTimestampCountAsync(tenant_id, unit, ts);\n        return Ok(new { status = "success" });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"get-the-metering-unit-count-for-today",children:"Get the Metering Unit Count for Today"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/GetMeteringUnitDateCountByTenantIdAndUnitNameToday",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-3",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when you want to show the usage to tenants."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-4",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Get the Metering Unit Count for Today\n *\n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @return array\n */\npublic function getCountOfCurrentDay(string $tenantId, string $meteringUnitName)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $unitCount = $pricingApi->getMeteringUnitDateCountByTenantIdAndUnitNameToday(\n        $tenantId, $meteringUnitName\n    );\n\n    return [\n        'count' => $unitCount->getCount(),\n        'date' => $unitCount->getDate(),\n        'meteringUnitName' => $unitCount->getMeteringUnitName(),\n    ];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Get the metering unit count for today\n// tenantId: Tenant ID\n// unit: Metering unit name\n// returns: {"count": int, "date": string, "meteringUnitName": string}\nfunc getCountOfCurrentDay(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tunit := c.Param("unit")\n\n\tresp, err := pricingClient.\n\t\tGetMeteringUnitDateCountByTenantIdAndUnitNameTodayWithResponse(\n\t\t\tc.Request().Context(), tenantId, unit)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\treturn c.JSON(http.StatusOK, echo.Map{\n\t\t"count":            resp.JSON200.Count,\n\t\t"date":             resp.JSON200.Date,\n\t\t"meteringUnitName": resp.JSON200.MeteringUnitName,\n\t})\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Get the metering unit count for today\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# returns: {"count": int, "date": str, "meteringUnitName": str}\ndef get_count_of_current_day(tenant_id: str, unit: str) -> Dict:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    cnt = metering_api.get_metering_unit_date_count_by_tenant_id_and_unit_name_today(\n      tenant_id=tenant_id,\n      metering_unit_name=unit,\n    )\n    return {\n        "count": cnt.count,\n        "date": cnt.var_date,\n        "meteringUnitName": cnt.metering_unit_name,\n    }\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Get the metering unit count for today\n// tenantId: Tenant ID\n// unit: Metering unit name\n@GetMapping("/tenants/{tenant_id}/metering/{unit:^(?!date$|month$).+}/date/today/count")\npublic ResponseEntity<?> getUnitTodayCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        MeteringUnitDateCount cnt = meteringApi\n            .getMeteringUnitDateCountByTenantIdAndUnitNameToday(tenantId, unit);\n\n        Map<String, Object> resp = new HashMap<>();\n        resp.put("count", cnt.getCount());\n        resp.put("date", cnt.getDate());\n        resp.put("meteringUnitName", cnt.getMeteringUnitName());\n        return ResponseEntity.ok(resp);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Get the metering unit count for today</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <returns>JSON { count:int, date:string, meteringUnitName:string }</returns>\napp.MapGet("/tenants/{tenant_id}/metering/{unit}/date/today/count",\n    async (HttpContext context, string tenant_id, string unit) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitDateCountByTenantIdAndUnitNameTodayAsync(\n            tenant_id, unit);\n        return Results.Json(new {\n            count            = cnt.Count,\n            date             = cnt.Date,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Get the metering unit count for today\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <returns>JSON { count:int, date:string, meteringUnitName:string }</returns>\n[HttpGet]\n[Route("tenants/{tenant_id}/metering/{unit}/date/today/count")]\npublic async Task<IHttpActionResult> GetUnitTodayCount(\n    string tenant_id,\n    string unit)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitDateCountByTenantIdAndUnitNameTodayAsync(\n            tenant_id, unit);\n        return Ok(new\n        {\n            count            = cnt.Count,\n            date             = cnt.Date,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"update-the-current-time-metering-unit-count",children:"Update the Current Time Metering Unit Count"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/UpdateMeteringUnitTimestampCountNow",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-4",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when updating the unit count, such as at times of changes in usage like the number of users."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-5",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Update the Current Time Metering Unit Count\n * \n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @param Request $request\n * @return array\n */\npublic function updateCountOfNow(string $tenantId, string $meteringUnitName, Request $request)\n{\n    // Retrieve the update method and count from the request\n    ['method' => $method, 'count' => $count] = $request->only(['method', 'count']);\n    $updateMeteringUnitTimeStampNowParam = new UpdateMeteringUnitTimestampCountNowParam();\n    $updateMeteringUnitTimeStampNowParam->setMethod($method)\n        ->setCount($count);\n\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $count = $pricingApi->updateMeteringUnitTimestampCountNow(\n        $tenantId, $meteringUnitName, $updateMeteringUnitTimeStampNowParam\n    );\n\n    return [\n        'count' => $count->getCount(),\n        'timestamp' => $count->getTimestamp(),\n        'meteringUnitName' => $count->getMeteringUnitName(),\n    ];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Update the metering unit count at the current time\n// tenantId: Tenant ID\n// unit: Metering unit name\n// body: {"method": "add|sub|direct", "count": int}\n// returns: {"count": int, "timestamp": int, "meteringUnitName": string}\nfunc updateCountOfNow(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tunit := c.Param("unit")\n\n\tvar body struct {\n\t\tMethod string `json:"method"`\n\t\tCount  int    `json:"count"`\n\t}\n\tif err := c.Bind(&body); err != nil {\n\t\treturn c.String(http.StatusBadRequest, "invalid body")\n\t}\n\n\tmethod := pricingapi.UpdateMeteringUnitTimestampCountMethod(body.Method)\n\tswitch method {\n\tcase pricingapi.Add, pricingapi.Sub, pricingapi.Direct:\n\tdefault:\n\t\treturn c.String(http.StatusBadRequest, "method must be add/sub/direct")\n\t}\n\n\tparam := pricingapi.UpdateMeteringUnitTimestampCountNowParam{Method: method, Count: body.Count}\n\n\tresp, err := pricingClient.\n\t\tUpdateMeteringUnitTimestampCountNowWithResponse(\n\t\t\tc.Request().Context(), tenantId, unit, param)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\treturn c.JSON(http.StatusOK, resp.JSON200)\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Update the metering unit count at the current time\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# req: UpdateCountRequest(method="add|sub|direct", count=int)\n# returns: UpdateMeteringUnitTimestampCountNowParam response model\ndef update_count_of_now(tenant_id: str, unit: str, req: UpdateCountRequest):\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    param = UpdateMeteringUnitTimestampCountNowParam(\n        method=UpdateMeteringUnitTimestampCountMethod(req.method),\n        count=req.count,\n    )\n    return metering_api.update_metering_unit_timestamp_count_now(\n        tenant_id=tenant_id,\n        metering_unit_name=unit,\n        update_metering_unit_timestamp_count_now_param=param,\n    )\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Update the metering unit count at the current time\n// tenantId: Tenant ID\n// unit: Metering unit name\n// body: {"method":"add|sub|direct","count":int}\n@PutMapping("/tenants/{tenant_id}/metering/{unit}/timestamp/now/count")\npublic ResponseEntity<?> updateUnitNowCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit,\n        @RequestBody Map<String,Object> body\n) {\n    String method = (String) body.get("method");\n    Object cntVal = body.get("count");\n    if (!Arrays.asList("add","sub","direct").contains(method) || !(cntVal instanceof Number)) {\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST,\n            "request body must include method(add/sub/direct) & count(int)");\n    }\n\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        UpdateMeteringUnitTimestampCountNowParam param = new UpdateMeteringUnitTimestampCountNowParam()\n            .method(UpdateMeteringUnitTimestampCountMethod.fromValue(method))\n            .count(((Number)cntVal).intValue());\n\n        MeteringUnitTimestampCount res = meteringApi\n            .updateMeteringUnitTimestampCountNow(tenantId, unit, param);\n\n        return ResponseEntity.ok(res.toJson());\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Update the metering unit count at the current time\n/// </summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="body">{"method":"add|sub|direct","count":int}</param>\n/// <returns>The updated MeteringUnitTimestampCount object</returns>\napp.MapPut("/tenants/{tenant_id}/metering/{unit}/timestamp/now/count",\n    async (HttpContext context, string tenant_id, string unit, JsonElement body) =>\n{\n    try\n    {\n        var method = body.GetProperty("method").GetString()!;\n        var count  = body.GetProperty("count").GetInt32();\n        if (!new[] { "add", "sub", "direct" }.Contains(method))\n            return Results.BadRequest("method \u306f add|sub|direct \u306e\u3044\u305a\u308c\u304b\u3002");\n\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var param = new UpdateMeteringUnitTimestampCountNowParam(\n            method: Enum.Parse<UpdateMeteringUnitTimestampCountMethod>(method, true),\n            count:  count\n        );\n        var res = await metering.UpdateMeteringUnitTimestampCountNowAsync(\n            tenant_id, unit, param);\n        return Results.Json(res);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Update the metering unit count at the current time\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="body">{"method":"add|sub|direct","count":int}</param>\n/// <returns>The updated MeteringUnitTimestampCount object</returns>\n[HttpPut]\n[Route("tenants/{tenant_id}/metering/{unit}/timestamp/now/count")]\npublic async Task<IHttpActionResult> UpdateUnitNowCount(\n    string tenant_id,\n    string unit,\n    [FromBody] UpdateRequestBody body)\n{\n    if (body == null || !new[] { "add", "sub", "direct" }.Contains(body.method))\n        return BadRequest("body must include method(add/sub/direct) & count(int)");\n\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var param = new UpdateMeteringUnitTimestampCountNowParam(\n            method: (UpdateMeteringUnitTimestampCountMethod)Enum.Parse(\n                typeof(UpdateMeteringUnitTimestampCountMethod), body.method, true),\n            count: body.count\n        );\n        var res = await metering.UpdateMeteringUnitTimestampCountNowAsync(\n            tenant_id, unit, param);\n        return Ok(res);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"get-the-metering-unit-count-for-the-current-month",children:"Get the Metering Unit Count for the Current Month"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/GetMeteringUnitMonthCountByTenantIdAndUnitNameThisMonth",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-5",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when you want to show usage to tenants."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-6",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Get the Metering Unit Count for the Current Month\n *\n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @return array\n */\npublic function getCountOfCurrentMonth(string $tenantId, string $meteringUnitName)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $unitCount = $pricingApi->getMeteringUnitMonthCountByTenantIdAndUnitNameThisMonth($tenantId, $meteringUnitName);\n\n    return [\n        'count' => $unitCount->getCount(),\n        'month' => $unitCount->getMonth(),\n        'meteringUnitName' => $unitCount->getMeteringUnitName(),\n    ];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Get the metering unit count for the current month\n// tenantId: Tenant ID\n// unit: Metering unit name\n// returns: {"count": int, "month": string, "meteringUnitName": string}\nfunc getCountOfCurrentMonth(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tunit := c.Param("unit")\n\n\tresp, err := pricingClient.\n\t\tGetMeteringUnitMonthCountByTenantIdAndUnitNameThisMonthWithResponse(\n\t\t\tc.Request().Context(), tenantId, unit)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\treturn c.JSON(http.StatusOK, echo.Map{\n\t\t"count":            resp.JSON200.Count,\n\t\t"month":            resp.JSON200.Month,\n\t\t"meteringUnitName": resp.JSON200.MeteringUnitName,\n\t})\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Get the metering unit count for the current month\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# returns: {"count": int, "month": str, "meteringUnitName": str}\ndef get_count_of_current_month(tenant_id: str, unit: str) -> Dict:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    cnt = metering_api.get_metering_unit_month_count_by_tenant_id_and_unit_name_this_month(\n      tenant_id=tenant_id,\n      metering_unit_name=unit,\n    )\n    return {\n        "count": cnt.count,\n        "month": cnt.month,\n        "meteringUnitName": cnt.metering_unit_name,\n    }\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Get the metering unit count for the current month\n// tenantId: Tenant ID\n// unit: Metering unit name\n@GetMapping("/tenants/{tenant_id}/metering/{unit:^(?!date$|month$).+}/month/this/count")\npublic ResponseEntity<?> getUnitThisMonthCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        MeteringUnitMonthCount cnt = meteringApi\n            .getMeteringUnitMonthCountByTenantIdAndUnitNameThisMonth(tenantId, unit);\n\n        Map<String, Object> resp = new HashMap<>();\n        resp.put("count", cnt.getCount());\n        resp.put("month", cnt.getMonth());\n        resp.put("meteringUnitName", cnt.getMeteringUnitName());\n        return ResponseEntity.ok(resp);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Get the metering unit count for the current month</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <returns>JSON { count:int, month:string, meteringUnitName:string }</returns>\napp.MapGet("/tenants/{tenant_id}/metering/{unit}/month/this/count",\n    async (HttpContext context, string tenant_id, string unit) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitMonthCountByTenantIdAndUnitNameThisMonthAsync(\n            tenant_id, unit);\n        return Results.Json(new {\n            count            = cnt.Count,\n            month            = cnt.Month,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Get the metering unit count for the current month\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <returns>JSON { count:int, month:string, meteringUnitName:string }</returns>\n[HttpGet]\n[Route("tenants/{tenant_id}/metering/{unit}/month/this/count")]\npublic async Task<IHttpActionResult> GetUnitThisMonthCount(\n    string tenant_id,\n    string unit)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitMonthCountByTenantIdAndUnitNameThisMonthAsync(\n            tenant_id, unit);\n        return Ok(new\n        {\n            count            = cnt.Count,\n            month            = cnt.Month,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"get-the-metering-unit-count-for-a-specified-month",children:"Get the Metering Unit Count for a Specified Month"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/GetMeteringUnitMonthCountByTenantIdAndUnitNameAndMonth",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-6",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when you want to show usage to tenants."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-7",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Get the Metering Unit Count for a Specified Month\n *\n * @param string $tenantId Tenant ID\n * @param string $meteringUnitName Metering Unit Name\n * @param string $month Month in yyyy-mm format\n * @return array\n */\npublic function getCountOfSpecifiedMonth(string $tenantId, string $meteringUnitName, string $month)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $unitCount = $pricingApi->getMeteringUnitMonthCountByTenantIdAndUnitNameAndMonth(\n        $tenantId, $meteringUnitName, $month\n    );\n\n    return [\n        'count' => $unitCount->getCount(),\n        'month' => $unitCount->getMonth(),\n        'meteringUnitName' => $unitCount->getMeteringUnitName(),\n    ];\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Get the metering unit count for a specified month\n// tenantId: Tenant ID\n// unit: Metering unit name\n// month: Month in yyyy-MM format\n// returns: {"count": int, "month": string, "meteringUnitName": string}\nfunc getCountOfSpecifiedMonth(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tunit := c.Param("unit")\n\tmonth := c.Param("month") // yyyy-MM\n\n\tresp, err := pricingClient.\n\t\tGetMeteringUnitMonthCountByTenantIdAndUnitNameAndMonthWithResponse(\n\t\t\tc.Request().Context(), tenantId, unit, month)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\n\treturn c.JSON(http.StatusOK, echo.Map{\n\t\t"count":            resp.JSON200.Count,\n\t\t"month":            resp.JSON200.Month,\n\t\t"meteringUnitName": resp.JSON200.MeteringUnitName,\n\t})\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Get the metering unit count for a specified month\n# tenant_id: Tenant ID\n# unit: Metering unit name\n# month: Month in yyyy-MM format\n# returns: {"count": int, "month": str, "meteringUnitName": str}\ndef get_count_of_specified_month(tenant_id: str, unit: str, month: str) -> Dict:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    cnt = metering_api.get_metering_unit_month_count_by_tenant_id_and_unit_name_and_month(\n        tenant_id=tenant_id,\n        metering_unit_name=unit,\n        month=month,\n    )\n    return {\n        "count": cnt.count,\n        "month": cnt.month,\n        "meteringUnitName": cnt.metering_unit_name,\n    }\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Get the metering unit count for a specified month\n// tenantId: Tenant ID\n// unit: Metering unit name\n// month: Month in yyyy-MM format\n@GetMapping("/tenants/{tenant_id}/metering/{unit:^(?!date$|month$).+}/month/{month}/count")\npublic ResponseEntity<?> getUnitMonthCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String unit,\n        @PathVariable String month\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        MeteringUnitMonthCount cnt = meteringApi\n            .getMeteringUnitMonthCountByTenantIdAndUnitNameAndMonth(tenantId, unit, month);\n\n        Map<String, Object> resp = new HashMap<>();\n        resp.put("count", cnt.getCount());\n        resp.put("month", cnt.getMonth());\n        resp.put("meteringUnitName", cnt.getMeteringUnitName());\n        return ResponseEntity.ok(resp);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Get the metering unit count for a specified month</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="month">Month (yyyy-MM)</param>\n/// <returns>JSON { count:int, month:string, meteringUnitName:string }</returns>\napp.MapGet("/tenants/{tenant_id}/metering/{unit}/month/{month}/count",\n    async (HttpContext context, string tenant_id, string unit, string month) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitMonthCountByTenantIdAndUnitNameAndMonthAsync(\n            tenant_id, unit, month);\n        return Results.Json(new {\n            count            = cnt.Count,\n            month            = cnt.Month,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Get the metering unit count for a specified month\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="unit">Metering unit name</param>\n/// <param name="month">Month (yyyy-MM)</param>\n/// <returns>JSON { count:int, month:string, meteringUnitName:string }</returns>\n[HttpGet]\n[Route("tenants/{tenant_id}/metering/{unit}/month/{month}/count")]\npublic async Task<IHttpActionResult> GetUnitMonthCount(\n    string tenant_id,\n    string unit,\n    string month)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var cnt = await metering.GetMeteringUnitMonthCountByTenantIdAndUnitNameAndMonthAsync(\n            tenant_id, unit, month);\n        return Ok(new\n        {\n            count            = cnt.Count,\n            month            = cnt.Month,\n            meteringUnitName = cnt.MeteringUnitName\n        });\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"get-all-metering-unit-counts-for-a-specified-date",children:"Get All Metering Unit Counts for a Specified Date"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/GetMeteringUnitDateCountsByTenantIdAndDate",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-7",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when you want to show usage to tenants."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-8",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Get All Metering Unit Counts for a Specified Date\n *\n * @param string $tenantId Tenant ID\n * @param string $date Date in yyyy-mm-dd format\n * @return \\AntiPatternInc\\Saasus\\Sdk\\Pricing\\Model\\MeteringUnitDateCount[]\n */\npublic function getAllMeteringCountOfSpecifiedDate(string $tenantId, string $date)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $allMeteringCount = $pricingApi->getMeteringUnitDateCountsByTenantIdAndDate(\n        $tenantId, $date\n    );\n\n    return array_map(function ($count) {\n        return [\n            'count' => $unitCount->getCount(),\n            'date' => $unitCount->getDate(),\n            'meteringUnitName' => $unitCount->getMeteringUnitName(),\n        ];\n    }, $allMeteringCount->getCounts());\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Get all metering unit counts for a specified date\n// tenantId: Tenant ID\n// date: Date in yyyy-MM-dd format\n// returns: []{"count": int, "date": string, "meteringUnitName": string}\nfunc getAllCountsOfSpecifiedDate(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tdate := c.Param("date")\n\n\tresp, err := pricingClient.\n\t\tGetMeteringUnitDateCountsByTenantIdAndDateWithResponse(\n\t\t\tc.Request().Context(), tenantId, date)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\n\tout := make([]map[string]interface{}, len(resp.JSON200.Counts))\n\tfor i, v := range resp.JSON200.Counts {\n\t\tout[i] = map[string]interface{}{\n\t\t\t"count":            v.Count,\n\t\t\t"date":             v.Date,\n\t\t\t"meteringUnitName": v.MeteringUnitName,\n\t\t}\n\t}\n\treturn c.JSON(http.StatusOK, out)\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Get all metering unit counts for a specified date\n# tenant_id: Tenant ID\n# date: Date in yyyy-MM-dd format\n# returns: List[{"count": int, "date": str, "meteringUnitName": str}]\ndef get_all_counts_of_specified_date(tenant_id: str, date: str) -> List[Dict]:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    all_counts = metering_api.get_metering_unit_date_counts_by_tenant_id_and_date(\n        tenant_id=tenant_id,\n        date=date,\n    )\n    return [\n        {"count": v.count, "date": v.date, "meteringUnitName": v.metering_unit_name}\n        for v in all_counts.counts\n    ]\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Get all metering unit counts for a specified date\n// tenantId: Tenant ID\n// date: Date in yyyy-MM-dd format\n@GetMapping("/tenants/{tenant_id}/metering/date/{date}/count")\npublic ResponseEntity<?> getAllUnitsDateCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String date\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        MeteringUnitDateCounts all = meteringApi\n            .getMeteringUnitDateCountsByTenantIdAndDate(tenantId, date);\n\n        List<Map<String,Object>> list = new ArrayList<>();\n        for (MeteringUnitDateCount e : all.getCounts()) {\n            Map<String,Object> m = new HashMap<>();\n            m.put("count", e.getCount());\n            m.put("date",  e.getDate());\n            m.put("meteringUnitName", e.getMeteringUnitName());\n            list.add(m);\n        }\n        return ResponseEntity.ok(list);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Get all metering unit counts for a specified date</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="date">Date (yyyy-MM-dd)</param>\n/// <returns>JSON[] of { count:int, date:string, meteringUnitName:string }</returns>\napp.MapGet("/tenants/{tenant_id}/metering/date/{date}/count",\n    async (HttpContext context, string tenant_id, string date) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var all = await metering.GetMeteringUnitDateCountsByTenantIdAndDateAsync(\n            tenant_id, date);\n        var list = all.Counts.Select(v => new {\n            count            = v.Count,\n            date             = v.Date,\n            meteringUnitName = v.MeteringUnitName\n        });\n        return Results.Json(list);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Get all metering unit counts for a specified date\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="date">Date (yyyy-MM-dd)</param>\n/// <returns>JSON[] of { count:int, date:string, meteringUnitName:string }</returns>\n[HttpGet]\n[Route("tenants/{tenant_id}/metering/date/{date}/count")]\npublic async Task<IHttpActionResult> GetAllUnitsDateCount(\n    string tenant_id,\n    string date)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var all = await metering.GetMeteringUnitDateCountsByTenantIdAndDateAsync(\n            tenant_id, date);\n        var list = all.Counts\n            .Select(v => new\n            {\n                count            = v.Count,\n                date             = v.Date,\n                meteringUnitName = v.MeteringUnitName\n            })\n            .ToList();\n        return Ok(list);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]}),"\n",(0,a.jsx)(t.h2,{id:"get-all-metering-unit-counts-for-a-specified-month",children:"Get All Metering Unit Counts for a Specified Month"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"/docs/reference/pricing-api#tag/metering/operation/GetMeteringUnitMonthCountsByTenantIdAndMonth",children:"API Documentation"})}),"\n",(0,a.jsx)(t.h3,{id:"use-case-8",children:"Use Case"}),"\n",(0,a.jsx)(t.p,{children:"Please use this when you want to show usage to tenants."}),"\n",(0,a.jsx)(t.h3,{id:"implementation-sample-9",children:"Implementation Sample"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(o.A,{value:"php",label:"PHP",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-php",children:"/**\n * Get All Metering Unit Counts for a Specified Month\n *\n * @param string $tenantId Tenant ID\n * @param string $month Month in yyyy-mm format\n * @return MeteringUnitMonthCount[]\n */\npublic function getAllMeteringCountOfSpecifiedMonth(string $tenantId, string $month)\n{\n    $client = new \\AntiPatternInc\\Saasus\\Api\\Client();\n    $pricingApi = $client->getPricingClient();\n    $allMeteringCount = $pricingApi->getMeteringUnitMonthCountsByTenantIdAndMonth(\n        $tenantId, $month\n    );\n\n    return array_map(function ($unitCount) {\n        return [\n            'count' => $unitCount->getCount(),\n            'month' => $unitCount->getMonth(),\n            'meteringUnitName' => $unitCount->getMeteringUnitName(),\n        ];\n    }, $allMeteringCount->getCounts());\n}\n"})})}),(0,a.jsx)(o.A,{value:"go",label:"Go",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:'// Get all metering unit counts for a specified month\n// tenantId: Tenant ID\n// month: Month in yyyy-MM format\n// returns: []{"count": int, "month": string, "meteringUnitName": string}\nfunc getAllCountsOfSpecifiedMonth(c echo.Context) error {\n\ttenantId := c.Param("tenantId")\n\tmonth := c.Param("month")\n\n\tresp, err := pricingClient.\n\t\tGetMeteringUnitMonthCountsByTenantIdAndMonthWithResponse(\n\t\t\tc.Request().Context(), tenantId, month)\n\tif err != nil || resp.JSON200 == nil {\n\t\treturn c.String(http.StatusInternalServerError, "pricing API error")\n\t}\n\n\tout := make([]map[string]interface{}, len(resp.JSON200.Counts))\n\tfor i, v := range resp.JSON200.Counts {\n\t\tout[i] = map[string]interface{}{\n\t\t\t"count":            v.Count,\n\t\t\t"month":            v.Month,\n\t\t\t"meteringUnitName": v.MeteringUnitName,\n\t\t}\n\t}\n\treturn c.JSON(http.StatusOK, out)\n}\n'})})}),(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# Get all metering unit counts for a specified month\n# tenant_id: Tenant ID\n# month: Month in yyyy-MM format\n# returns: List[{"count": int, "month": str, "meteringUnitName": str}]\ndef get_all_counts_of_specified_month(tenant_id: str, month: str) -> List[Dict]:\n    metering_api = MeteringApi(api_client=pricing_api_client)\n    all_counts = metering_api.get_metering_unit_month_counts_by_tenant_id_and_month(\n        tenant_id=tenant_id,\n        month=month,\n    )\n    return [\n        {"count": v.count, "month": v.month, "meteringUnitName": v.metering_unit_name}\n        for v in all_counts.counts\n    ]\n'})})}),(0,a.jsx)(o.A,{value:"java",label:"Java",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'// Get all metering unit counts for a specified month\n// tenantId: Tenant ID\n// month: Month in yyyy-MM format\n@GetMapping("/tenants/{tenant_id}/metering/month/{month}/count")\npublic ResponseEntity<?> getAllUnitsMonthCount(\n        HttpServletRequest request,\n        @PathVariable("tenant_id") String tenantId,\n        @PathVariable String month\n) {\n    try {\n        PricingApiClient pricingClient = new Configuration().getPricingApiClient();\n        pricingClient.setReferer(request.getHeader("X-Saasus-Referer"));\n        MeteringApi meteringApi = new MeteringApi(pricingClient);\n\n        MeteringUnitMonthCounts all = meteringApi\n            .getMeteringUnitMonthCountsByTenantIdAndMonth(tenantId, month);\n\n        List<Map<String,Object>> list = new ArrayList<>();\n        for (MeteringUnitMonthCount e : all.getCounts()) {\n            Map<String,Object> m = new HashMap<>();\n            m.put("count", e.getCount());\n            m.put("month",  e.getMonth());\n            m.put("meteringUnitName", e.getMeteringUnitName());\n            list.add(m);\n        }\n        return ResponseEntity.ok(list);\n\n    } catch (saasus.sdk.pricing.ApiException e) {\n        throw new ResponseStatusException(\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            "Pricing API error: " + e.getMessage(), e\n        );\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"csharp",label:"C#(.Net8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>Get all metering unit counts for a specified month</summary>\n/// <param name="context">HTTP context</param>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="month">Month (yyyy-MM)</param>\n/// <returns>JSON[] of { count:int, month:string, meteringUnitName:string }</returns>\napp.MapGet("/tenants/{tenant_id}/metering/month/{month}/count",\n    async (HttpContext context, string tenant_id, string month) =>\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig(), context);\n        var metering = new MeteringApi(cfg);\n        var all = await metering.GetMeteringUnitMonthCountsByTenantIdAndMonthAsync(\n            tenant_id, month);\n        var list = all.Counts.Select(v => new {\n            count            = v.Count,\n            month            = v.Month,\n            meteringUnitName = v.MeteringUnitName\n        });\n        return Results.Json(list);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n});\n'})})}),(0,a.jsx)(o.A,{value:"csharp(.Netfw4.8)",label:"C#(.Netfw4.8)",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Get all metering unit counts for a specified month\n/// </summary>\n/// <param name="tenant_id">Tenant ID</param>\n/// <param name="month">Month (yyyy-MM)</param>\n/// <returns>JSON[] of { count:int, month:string, meteringUnitName:string }</returns>\n[HttpGet]\n[Route("tenants/{tenant_id}/metering/month/{month}/count")]\npublic async Task<IHttpActionResult> GetAllUnitsMonthCount(\n    string tenant_id,\n    string month)\n{\n    try\n    {\n        var cfg = CreateClientConfiguration(c => c.GetPricingApiClientConfig());\n        var metering = new MeteringApi(cfg);\n        var all = await metering.GetMeteringUnitMonthCountsByTenantIdAndMonthAsync(\n            tenant_id, month);\n        var list = all.Counts\n            .Select(v => new\n            {\n                count            = v.Count,\n                month            = v.Month,\n                meteringUnitName = v.MeteringUnitName\n            })\n            .ToList();\n        return Ok(list);\n    }\n    catch (Exception ex) { return HandleApiException(ex); }\n}\n'})})})]})]})}function l(n={}){const{wrapper:t}={...(0,r.R)(),...n.components};return t?(0,a.jsx)(t,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},28453:(n,t,e)=>{e.d(t,{R:()=>s,x:()=>o});var i=e(96540);const a={},r=i.createContext(a);function s(n){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),i.createElement(r.Provider,{value:t},n.children)}},65537:(n,t,e)=>{e.d(t,{A:()=>U});var i=e(96540),a=e(34164),r=e(65627),s=e(56347),o=e(50372),u=e(30604),c=e(11861),m=e(78749);function p(n){return i.Children.toArray(n).filter((n=>"\n"!==n)).map((n=>{if(!n||(0,i.isValidElement)(n)&&function(n){const{props:t}=n;return!!t&&"object"==typeof t&&"value"in t}(n))return n;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof n.type?n.type:n.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(n){const{values:t,children:e}=n;return(0,i.useMemo)((()=>{const n=t??function(n){return p(n).map((n=>{let{props:{value:t,label:e,attributes:i,default:a}}=n;return{value:t,label:e,attributes:i,default:a}}))}(e);return function(n){const t=(0,c.XI)(n,((n,t)=>n.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((n=>n.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(n),n}),[t,e])}function l(n){let{value:t,tabValues:e}=n;return e.some((n=>n.value===t))}function g(n){let{queryString:t=!1,groupId:e}=n;const a=(0,s.W6)(),r=function(n){let{queryString:t=!1,groupId:e}=n;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!e)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:t,groupId:e});return[(0,u.aZ)(r),(0,i.useCallback)((n=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,n),a.replace({...a.location,search:t.toString()})}),[r,a])]}function h(n){const{defaultValue:t,queryString:e=!1,groupId:a}=n,r=d(n),[s,u]=(0,i.useState)((()=>function(n){let{defaultValue:t,tabValues:e}=n;if(0===e.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!l({value:t,tabValues:e}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${e.map((n=>n.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const i=e.find((n=>n.default))??e[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:t,tabValues:r}))),[c,p]=g({queryString:e,groupId:a}),[h,C]=function(n){let{groupId:t}=n;const e=function(n){return n?`docusaurus.tab.${n}`:null}(t),[a,r]=(0,m.Dv)(e);return[a,(0,i.useCallback)((n=>{e&&r.set(n)}),[e,r])]}({groupId:a}),f=(()=>{const n=c??h;return l({value:n,tabValues:r})?n:null})();(0,o.A)((()=>{f&&u(f)}),[f]);return{selectedValue:s,selectValue:(0,i.useCallback)((n=>{if(!l({value:n,tabValues:r}))throw new Error(`Can't select invalid tab value=${n}`);u(n),p(n),C(n)}),[p,C,r]),tabValues:r}}var C=e(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var M=e(74848);function y(n){let{className:t,block:e,selectedValue:i,selectValue:s,tabValues:o}=n;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),m=n=>{const t=n.currentTarget,e=u.indexOf(t),a=o[e].value;a!==i&&(c(t),s(a))},p=n=>{let t=null;switch(n.key){case"Enter":m(n);break;case"ArrowRight":{const e=u.indexOf(n.currentTarget)+1;t=u[e]??u[0];break}case"ArrowLeft":{const e=u.indexOf(n.currentTarget)-1;t=u[e]??u[u.length-1];break}}t?.focus()};return(0,M.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":e},t),children:o.map((n=>{let{value:t,label:e,attributes:r}=n;return(0,M.jsx)("li",{role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,ref:n=>{u.push(n)},onKeyDown:p,onClick:m,...r,className:(0,a.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":i===t}),children:e??t},t)}))})}function x(n){let{lazy:t,children:e,selectedValue:r}=n;const s=(Array.isArray(e)?e:[e]).filter(Boolean);if(t){const n=s.find((n=>n.props.value===r));return n?(0,i.cloneElement)(n,{className:(0,a.A)("margin-top--md",n.props.className)}):null}return(0,M.jsx)("div",{className:"margin-top--md",children:s.map(((n,t)=>(0,i.cloneElement)(n,{key:t,hidden:n.props.value!==r})))})}function A(n){const t=h(n);return(0,M.jsxs)("div",{className:(0,a.A)("tabs-container",f.tabList),children:[(0,M.jsx)(y,{...t,...n}),(0,M.jsx)(x,{...t,...n})]})}function U(n){const t=(0,C.A)();return(0,M.jsx)(A,{...n,children:p(n.children)},String(t))}},79329:(n,t,e)=>{e.d(t,{A:()=>s});e(96540);var i=e(34164);const a={tabItem:"tabItem_Ymn6"};var r=e(74848);function s(n){let{children:t,hidden:e,className:s}=n;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(a.tabItem,s),hidden:e,children:t})}}}]);