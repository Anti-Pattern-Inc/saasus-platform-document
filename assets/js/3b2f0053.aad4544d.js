"use strict";(self.webpackChunksaasus_platform_document=self.webpackChunksaasus_platform_document||[]).push([[2796],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(96540);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}},59344:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/image-02-6c182132c9826cede4a323a0bfc95320.png"},91012:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"part-6/implementation-guide/sample-application/authentication","title":"Authentication Flow Implementation","description":"This page explains the implementation methods for authentication flow in the API server version, using the sample application\'s authentication features as examples.","source":"@site/versioned_docs/version-1.11/part-6/implementation-guide/sample-application/authentication.md","sourceDirName":"part-6/implementation-guide/sample-application","slug":"/part-6/implementation-guide/sample-application/authentication","permalink":"/docs/part-6/implementation-guide/sample-application/authentication","draft":false,"unlisted":false,"tags":[],"version":"1.11","frontMatter":{"title":"Authentication Flow Implementation","slug":"authentication","excerpt":"Implementation guide for authentication flow using SaaSus Platform API server approach","hidden":false,"createdAt":"Sun Aug 06 2023 02:41:08 GMT+0000 (Coordinated Universal Time)","updatedAt":"Thu Oct 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)"},"sidebar":"docsSidebar","previous":{"title":"Sample Application Overview","permalink":"/docs/part-6/implementation-guide/sample-application/overview"},"next":{"title":"Multi-Factor Authentication","permalink":"/docs/part-6/implementation-guide/sample-application/multi-factor-authentication"}}');var s=t(74848),a=t(28453);const r={title:"Authentication Flow Implementation",slug:"authentication",excerpt:"Implementation guide for authentication flow using SaaSus Platform API server approach",hidden:!1,createdAt:"Sun Aug 06 2023 02:41:08 GMT+0000 (Coordinated Universal Time)",updatedAt:"Thu Oct 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)"},o=void 0,l={},c=[{value:"Frontend Implementation",id:"frontend-implementation",level:2},{value:"Post-Authentication Redirect Screen (Callback)",id:"post-authentication-redirect-screen-callback",level:3},{value:"Post-Authentication Screen Navigation Logic",id:"post-authentication-screen-navigation-logic",level:4},{value:"Self-Signup Screen",id:"self-signup-screen",level:3},{value:"User List Screen (Homepage)",id:"user-list-screen-homepage",level:3},{value:"Backend Implementation",id:"backend-implementation",level:2},{value:"JWT Retrieval API",id:"jwt-retrieval-api",level:3},{value:"User Information Retrieval API",id:"user-information-retrieval-api",level:3},{value:"Self-Signup API",id:"self-signup-api",level:3},{value:"User List Retrieval API",id:"user-list-retrieval-api",level:3},{value:"SaaSus API userInfo Response Data",id:"saasus-api-userinfo-response-data",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"This page explains the implementation methods for authentication flow in the API server version, using the sample application's authentication features as examples."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["For comparisons of implementation approaches and overall process flows, please refer to the ",(0,s.jsx)(n.a,{href:"/docs/part-6/implementation-guide/sample-application/overview",children:"Sample Application Overview"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"frontend-implementation",children:"Frontend Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"post-authentication-redirect-screen-callback",children:"Post-Authentication Redirect Screen (Callback)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-front-react/blob/main/src/pages/Callback.tsx",children:"Callback.tsx"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"When you log in from the login screen generated by the SaaSus Platform, the URL set as the post-authentication redirect is called."}),"\n",(0,s.jsxs)(n.p,{children:["To perform a test run using this implementation sample, set it as ",(0,s.jsx)(n.code,{children:"http://localhost:3000/callback"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Post-Authentication Redirect",src:t(59344).A+"",width:"2464",height:"736"})}),"\n",(0,s.jsx)(n.p,{children:"At the post-authentication redirect, a temporary code necessary for obtaining authentication information is passed in the query parameter (code=xxxxx). Implement the process to obtain JWT using this temporary code and save it in local storage."}),"\n",(0,s.jsx)(n.h4,{id:"post-authentication-screen-navigation-logic",children:"Post-Authentication Screen Navigation Logic"}),"\n",(0,s.jsx)(n.p,{children:"The sample application checks user information after JWT acquisition and navigates to the appropriate screen using the following logic:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User not belonging to any tenant"}),": Navigate to the self-signup screen"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User belonging to multiple tenants"}),": Navigate to the tenant list screen"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User belonging to a single tenant"}),": Navigate to the user list screen (main screen)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This navigation logic ensures that users are directed to the most appropriate screen based on their current status."}),"\n",(0,s.jsx)(n.h3,{id:"self-signup-screen",children:"Self-Signup Screen"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-front-react/blob/main/src/pages/SelfSignUp.tsx",children:"SelfSignUp.tsx"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["It is necessary to check if the user is logged in, so call the API to get user information and confirm that the user is logged in.",(0,s.jsx)(n.br,{}),"\n","Use the JWT stored in local storage for the API call.",(0,s.jsx)(n.br,{}),"\n","By being able to obtain user information, you can confirm that the user is logged in."]}),"\n",(0,s.jsxs)(n.p,{children:["The process for self-signup should be implemented according to whether self-signup is used or not.",(0,s.jsx)(n.br,{}),"\n","If self-signup is not used, the screen for self-signup is not needed."]}),"\n",(0,s.jsxs)(n.p,{children:["If self-signup is used, the process for self-signup will only be executed during the first login.",(0,s.jsx)(n.br,{}),"\n","Whether it is the first login can be determined by whether the logging-in user is linked to a tenant."]}),"\n",(0,s.jsx)(n.h3,{id:"user-list-screen-homepage",children:"User List Screen (Homepage)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-front-react/blob/main/src/pages/UserPage.tsx",children:"UserPage.tsx"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The user list screen displays information about authenticated users and all users within the tenant. This screen serves as the central hub for user management."}),"\n",(0,s.jsx)(n.h2,{id:"backend-implementation",children:"Backend Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"jwt-retrieval-api",children:"JWT Retrieval API"}),"\n",(0,s.jsx)(n.p,{children:"The following links contain implementations of this API.\nSearch for the function name or route definition to locate the relevant code."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Go (Echo)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-go/blob/main/main.go",children:(0,s.jsx)(n.code,{children:"getCredentials"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Python (FastAPI)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-python/blob/main/main.py",children:(0,s.jsx)(n.code,{children:"get_credentials"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Java (Spring)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-java/blob/main/src/main/java/implementsample/controller/SampleController.java",children:(0,s.jsx)(n.code,{children:"getCredentials"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET 8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet8/Program.cs",children:(0,s.jsx)(n.code,{children:'app.MapGet("/credentials"'})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET Framework 4.8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet48/Controllers/MainController.cs",children:(0,s.jsx)(n.code,{children:"GetCredentials"})})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"user-information-retrieval-api",children:"User Information Retrieval API"}),"\n",(0,s.jsx)(n.p,{children:"The following links contain implementations of this API.\nSearch for the function name or route definition to locate the relevant code."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Go (Echo)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-go/blob/main/main.go",children:(0,s.jsx)(n.code,{children:"getMe"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Python (FastAPI)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-python/blob/main/main.py",children:(0,s.jsx)(n.code,{children:"get_user_info"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Java (Spring)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-java/blob/main/src/main/java/implementsample/controller/SampleController.java",children:(0,s.jsx)(n.code,{children:"getMe"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET 8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet8/Program.cs",children:(0,s.jsx)(n.code,{children:'app.MapGet("/userinfo"'})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET Framework 4.8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet48/Controllers/MainController.cs",children:(0,s.jsx)(n.code,{children:"GetUserInfo"})})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This API internally calls the SaaSus API's ",(0,s.jsx)(n.a,{href:"https://docs.saasus.io/docs/reference/auth-api#tag/userInfo",children:"Get User Info"}),". For detailed information on how to utilize the response data, please refer to ",(0,s.jsx)(n.a,{href:"#saasus-api-userinfo-response-data",children:"SaaSus API userInfo Response Data"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"self-signup-api",children:"Self-Signup API"}),"\n",(0,s.jsx)(n.p,{children:"The following links contain implementations of this API.\nSearch for the function name or route definition to locate the relevant code."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Go (Echo)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-go/blob/main/main.go",children:(0,s.jsx)(n.code,{children:"selfSignup"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Python (FastAPI)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-python/blob/main/main.py",children:(0,s.jsx)(n.code,{children:"self_signup"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Java (Spring)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-java/blob/main/src/main/java/implementsample/controller/SampleController.java",children:(0,s.jsx)(n.code,{children:"selfSignUp"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET 8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet8/Program.cs",children:(0,s.jsx)(n.code,{children:'app.MapPost("/self_sign_up"'})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET Framework 4.8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet48/Controllers/MainController.cs",children:(0,s.jsx)(n.code,{children:"SelfSignUp"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In order to confirm that the API request is from the user who logged into the SaaSus Platform, it is always necessary to confirm the login by retrieving the user information."}),"\n",(0,s.jsxs)(n.p,{children:["The self-signup process is as follows:",(0,s.jsx)(n.br,{}),"\n","Prerequisite: The user who self-signs up becomes the administrator of the new tenant"]}),"\n",(0,s.jsxs)(n.p,{children:["a. Tenant creation",(0,s.jsx)(n.br,{}),"\n","b. Link the logged-in user to the created tenant",(0,s.jsx)(n.br,{}),"\n","c. Set the logged-in user as the admin of the tenant"]}),"\n",(0,s.jsx)(n.h3,{id:"user-list-retrieval-api",children:"User List Retrieval API"}),"\n",(0,s.jsx)(n.p,{children:"The following links contain implementations of this API.\nSearch for the function name or route definition to locate the relevant code."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Go (Echo)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-go/blob/main/main.go",children:(0,s.jsx)(n.code,{children:"getUsers"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Python (FastAPI)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-python/blob/main/main.py",children:(0,s.jsx)(n.code,{children:"get_tenant_users"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Java (Spring)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-java/blob/main/src/main/java/implementsample/controller/SampleController.java",children:(0,s.jsx)(n.code,{children:"getUsers"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET 8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet8/Program.cs",children:(0,s.jsx)(n.code,{children:'app.MapGet("/users"'})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"C# (.NET Framework 4.8)"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/saasus-platform/implementation-sample-api-csharp/blob/main/SampleWebAppDotNet48/Controllers/MainController.cs",children:(0,s.jsx)(n.code,{children:"GetUsers"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"It is always necessary to confirm the login by retrieving the user information to verify that the API request originates from the user that is logged into SaaSus Platform."}),"\n",(0,s.jsx)(n.h2,{id:"saasus-api-userinfo-response-data",children:"SaaSus API userInfo Response Data"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"https://docs.saasus.io/docs/reference/auth-api#tag/userInfo",children:"Get User Info API"})," response includes tenant information (tenants), environment information (envs), and role information (roles) as arrays. Understanding how to process this information is essential for implementing the navigation logic and access control in your SaaS application."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"tenants array:"}),"\nIn the design of your SaaS,\nif it is fixed to 1 tenant per 1 user, use ",(0,s.jsx)(n.code,{children:"tenants[0]"})," fixed.\nIf a user belongs to multiple tenants, it is necessary to decide which tenant to use.\nExample: Users linked to multiple tenants will see a tenant selection screen after logging in to choose a tenant."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"envs array:"}),"\nid(name)\u30101(dev), 2(stg), 3(prod)\u3011\ndev, stg, prod do not refer to your SaaS's environments.\nThey are SaaSus Platform's internal environment settings.\nExample: When users in your SaaS's production environment use sandbox functionality with test users, they would use 1(dev) or 2(stg). Normally, 3(prod) is used."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"roles array:"}),"\nIn the design of your SaaS,\nif it is fixed to 1 role per 1 user, use ",(0,s.jsx)(n.code,{children:"roles[0]"})," fixed.\nIf a user has multiple roles, implementation to check all roles is necessary.\nExample: In a design where a user can have both general user and administrator permissions, when displaying an admin screen that only administrators can see, implementation to reference all roles is required."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);