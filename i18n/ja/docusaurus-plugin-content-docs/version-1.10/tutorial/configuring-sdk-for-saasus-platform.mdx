---
sidebar_position: 3
title: "SaaSus PlatformのSDKの設定"
slug: "configuring-sdk-for-saasus-platform"
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

### SaaS ID と API キー、クライアントシークレットの確認

まず、**SaaSus 開発コンソール**で API キーを表示します。このキーはアプリケーションの設定に使用されます。

「SaaS ID」は通常、デフォルトで生成されます。必要に応じて、既存の「SaaS ID」を使用するか、「SaaS ID の再発行」ボタンをクリックして新しいIDを生成することもできます。

初期状態では、「APIキー」は自動的に生成されません。必要に応じて、「APIキーの発行」ボタンをクリックして新しいキーを1つ発行してください。

:::info
実際にSaaSの運用が開始された後、「SaaS ID の再発行」を行った場合、SaaSアプリケーション内で使用している SaaS ID も更新する必要がありますので、ご注意ください。

また、外部に API キーが漏洩しないよう、細心の注意を払ってください。このチュートリアルで表示されている API キーはすでに使用できない状態になっています。
:::

![01](/ja/img/tutorial/configuring-sdk-for-saasus-platform/configuring-sdk-for-saasus-platform-01.png)

![02](/ja/img/tutorial/configuring-sdk-for-saasus-platform/configuring-sdk-for-saasus-platform-02.png)

### SaaSus SDK 利用の準備

では、さきほど準備したサンプルアプリケーションを開発環境で開きましょう。

冒頭で行ったとおり、 init.sh を利用して docker コンテナが立ち上がっており、

PHPなら[http://localhost/board](http://localhost/board) で、

Node.jsなら[http://localhost:3000/board](http://localhost:3000/board)で、サンプルアプリケーションが動いていることを確認してください。

まず、 SaaSus Platform を使うためには、 SaaSus SDK をアプリケーションに組み込みます。

PHP なら composer を

Node.js なら npm を使います。

ターミナルを開きSDKのセットアップをします。

```mdx-code-block
<Tabs>
<TabItem value="php" label="PHP" default>
```

```txt
repo$ docker compose exec php bash
root@xxx:/var/www# cd api
root@xxx:/var/www/api# composer config repositories.saasus-platform/saasus-sdk-php vcs https://github.com/saasus-platform/saasus-sdk-php
root@xxx:/var/www/api# composer require saasus-platform/saasus-sdk-php
```

```mdx-code-block
</TabItem>
<TabItem value="nodejs" label="Node.js">
```

```txt
repo$ docker compose exec node bash
repo$ npm install saasus-sdk
```

```mdx-code-block
</TabItem>
</Tabs>
```

SaaSus SDK がインストールできたら、まずは SaaSus SDK 利用にあたって必要な環境変数を定義しましょう。

api ディレクトリの .env.example ファイルをコピーして.env ファイルを作成し、その.env ファイルの一番下の以下の部分を編集します。

```.env
### for SaaSus Platform
SAASUS_SAAS_ID="98tjo3wifaoua （画面のSaaS ID）"
SAASUS_API_KEY="kjntowjfoasnkjntwonsflajsno4as （画面のAPI KEY）"
SAASUS_SECRET_KEY=" （画面のクライアントシークレット）"
SAASUS_LOGIN_URL="https://auth.sample.saasus.jp/　（ログイン画面のURL）"
SAASUS_AUTH_MODE="api"（Next.jsの場合は記載）
```

SAASUS_SAAS_ID, SAASUS_API_KEY, SAASUS_SECRET_KEY は先ほど画面で表示した SaaS ID と API キー、クライアントシークレットを、SAASUS_LOGIN_URL は、SaaSus 開発コンソールで作成したログイン画面の URL を設定します。
