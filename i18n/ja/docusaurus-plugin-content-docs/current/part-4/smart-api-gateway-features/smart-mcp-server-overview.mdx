---
title: "Smart MCP Server 機能"
slug: "smart-mcp-server-overview"
excerpt: ""
hidden: false
createdAt: "Sun May 26 2025 07:00:00 GMT+0000 (Coordinated Universal Time)"
updatedAt: "Sun May 26 2025 07:00:00 GMT+0000 (Coordinated Universal Time)"
---

:::info サポートについて
サンプルデモ動画の視聴、機能のデモンストレーション、チュートリアルのサポート、導入検討のための情報収集、実装に関する技術相談をご希望の方は、以下のサポート申請フォームよりお問い合わせください。

[Smart MCP Server by SaaSus Platform サポート申請フォーム](https://forms.gle/DVDqrcNc525E9GG68)
:::

## Smart MCP Server機能とは

Smart MCP Server機能は、Smart API Gateway機能で公開したAPIを、Model Context Protocol（MCP）サーバーとして自動的に提供する機能です。AIエージェントやLLM（大規模言語モデル）がAPIを直接呼び出すことができるリモートMCP Serverを、Smart API GatewayによるAPI公開と連携して利用できるようになります。これにより、既存のAPIをAIエージェントが利用可能な形式で即座に提供し、AI駆動のアプリケーション開発を加速させることができます。

## 機能概要

### 自動MCP Server展開
- **同時展開**: Smart API GatewayでAPIが公開されると、MCP Serverも自動的に同時展開されます
- **追加設定不要**: Smart API Gateway機能の設定を完了するだけで、MCP Serverの設定は不要です
- **スキーマ更新**: API定義の変更が自動でMCP Serverに反映されます

## 対応AIサービス

現在、以下のAIサービスでSmart MCP Server機能を検証できます：

### OpenAI Playground
- **対応状況**: ✅ 動作確認済み
- **利用方法**: Toolsから、MCP Serverとして追加
:::caution
有償のOpenAIアカウントが必要です
:::

## チュートリアル

### 概要

**所要時間**: 約15〜20分  
**前提条件**: Smart API Gateway機能でAPIが公開済みであること

:::warning 重要な前提条件
このチュートリアルを開始する前に、Smart API Gateway機能でAPIが公開済みである必要があります。<br/>
まだ設定が完了していない場合は、先に[Smart API Gateway機能の設定手順](./manual.mdx)を完了してください。
:::

<details>
<summary>📋 Smart MCP Server機能 チュートリアル（クリックして展開）</summary>
<div>

このチュートリアルでは、Smart API Gateway機能で公開したAPIを、AIサービスが利用できるMCP Serverとして設定する手順を説明します。

---

## Step 1: MCP Server エンドポイントの確認

1. [SaaS開発コンソール](https://settings.console.saasus.io/dashboard)にログインします
2. 左側のメニューから **Smart API Gateway** を選択します
3. APIが公開されている状態であることを確認します
4. 画面をスクロールすると以下の情報が表示されますので控えてください：

- **MCP Server エンドポイント**: AIサービスが接続するためのエンドポイント

![smart-mcp-server-tutorial-2](/ja/img/api-gateway-function/smart-mcp-server-tutorial-2.png)

---

## Step 2: API Keyの確認

1. [SaaS運用コンソール](https://saasadmin.console.saasus.io/dashboard)にログインします
2. 左側のメニューから **ユーザー管理** を選択します
3. 特定のユーザーのActions列の **APIキー管理ボタン** を押下します
4. ダイアログでAPIキーが表示されますので控えてください（もし未発行の場合は、新しく発行してください）

![smart-mcp-server-tutorial-3](/ja/img/api-gateway-function/smart-mcp-server-tutorial-3.png)

## Step 3: OpenAI Playgroundの利用準備

:::warning 重要な注意事項
OpenAI Playgroundの利用には**有償のOpenAIアカウント**が必要です。無料アカウントでは利用できません。<br/>
また、API呼び出しごとに利用料金が発生しますので、予算設定等の適切な管理を行ってください。
:::

### OpenAIアカウントの準備

このステップでは、OpenAI Playgroundを利用するための前提条件を確認し、必要なアカウント設定を行います。

#### 1. OpenAIアカウントの作成・ログイン

1. [OpenAI Platform](https://platform.openai.com/) にアクセスします
2. 「Sign up」からアカウント作成画面に移動します
3. メールアドレス、パスワードの必要な認証情報を入力してメール検証を行います
4. 氏名と生年月日、Organization name、What best describes you?を入力してください
5. Invite your team、Make your first API callはお客様の状況に合わせて入力してください
6. Add some API creditsは後ほど設定するので、「I'll buy credits later」を押下してください

以上で登録は完了です。

#### 2. 支払い方法の設定（必須）

:::danger 重要
OpenAI Playgroundを利用するには、支払い方法の設定が**必須**です。
:::

1. [OpenAI Platform](https://platform.openai.com/)にログインします
2. 右上のアカウントアイコンを押下して、表示された「Your Profile」を選択します
3. サイドメニューから、「Billing」を選択します
3. 「Add payment details」から有効なクレジットカードを追加し、クレジットをチャージします

#### 3. OpenAI Playgroundへのアクセス確認

1. [OpenAI Playground](https://platform.openai.com/playground) にアクセスします
2. チャット画面が正常に表示されることを確認します
3. 簡単なメッセージを送信して利用可能であることを確認します

---

## Step 4: AIサービスでの動作検証

:::info
現時点では、OpenAI Playgroundでの動作検証のみサポートしております。
:::

### OpenAI Playground

1. [OpenAI Playground](https://platform.openai.com/playground) にアクセスします
2. **Tools** セクションで **Create...** をクリックします
3. **MCP Server** を選択します
  ![smart-mcp-server-tutorial-4](/ja/img/api-gateway-function/smart-mcp-server-tutorial-4.png)
4. **Add New** を選択します
  ![smart-mcp-server-tutorial-5](/ja/img/api-gateway-function/smart-mcp-server-tutorial-5.png)
5. 表示されたフォームにそれぞれ値を入力します：
  - **URL** : 控えておいた**MCP Serverエンドポイント**
  - **Label** : 任意のラベル
  - **Authentication** : **Custom headers** を選択
    - キー : **x-api-key**
    - 値 : **控えておいた**APIキー**
  ![smart-mcp-server-tutorial-6](/ja/img/api-gateway-function/smart-mcp-server-tutorial-6.png)
6. **Connect**を押下します
7. 成功するとToolsに利用可能なAPI一覧が表示されます
　![smart-mcp-server-tutorial-7](/ja/img/api-gateway-function/smart-mcp-server-tutorial-7.png)
8. **Add**を押下します
9. **Tools** セクションに追加したMCP Serverが表示されていることを確認します
　![smart-mcp-server-tutorial-8](/ja/img/api-gateway-function/smart-mcp-server-tutorial-8.png)

---

## Step 5: AIサービスからのAPI呼び出しテスト

### OpenAI Playground

1. チャットで、「（**MCP Server名**）でできる操作を教えて」と入力します
  ![smart-mcp-server-tutorial-9](/ja/img/api-gateway-function/smart-mcp-server-tutorial-9.png)
2. 「特定テナントの在庫情報を取得できる」と返答があったので、インベントリIDを提示して在庫情報を取得するように指示をします
3. 呼び出すAPIと「Approve」ボタンが表示されたら押下します
  ![smart-mcp-server-tutorial-9](/ja/img/api-gateway-function/smart-mcp-server-tutorial-10.png)
4. 期待したレスポンスであるか確認します
  ![smart-mcp-server-tutorial-10](/ja/img/api-gateway-function/smart-mcp-server-tutorial-11.png)

## Step 6: エラーのトラブルシューティング

### よくある問題と解決方法

#### 1. MCP Serverに接続できない

**症状**: AIサービスがMCP Serverに接続できない

**解決方法**:
- API Keyが正しく設定されているか確認する
- ネットワーク接続を確認する

#### 2. API呼び出しが失敗する

**症状**: MCP Server経由でのAPI呼び出しがエラーになる

**解決方法**:
- Smart API Gateway機能で公開したAPIが正常に動作するかをMCP Serverを経由せずに確認する
- API Keyの権限設定を確認する
- スロットリング制限に達していないか確認する

#### 3. ツールが表示されない

**症状**: AIサービスでツールの一覧が表示されない

**解決方法**:
- Smart API Gateway機能でAPIが正常に公開されているか確認する
- ブラウザのキャッシュをクリアしてから再試行する

---

## まとめ

このチュートリアルでは、Smart MCP Server機能を使用してAPIをAIサービス向けに公開する方法を学習しました。

### 完了した内容

- MCP Serverエンドポイントの確認
- AIサービス（OpenAI Playground）での接続設定
- API呼び出しのテスト

:::info
Smart MCP Server機能に関するご質問やサポートが必要な場合は、[サポート申請フォーム](https://forms.gle/DVDqrcNc525E9GG68)からお問い合わせください。
:::

</div>
</details>
