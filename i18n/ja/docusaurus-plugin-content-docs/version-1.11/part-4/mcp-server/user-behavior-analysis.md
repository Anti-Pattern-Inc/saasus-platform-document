---
title: "ユーザー行動履歴分析手順"
slug: "user-behavior-analysis"
excerpt: ""
hidden: false
createdAt: "Mon Jun 09 2025 08:34:00 GMT+0000 (Coordinated Universal Time)"
updatedAt: "Mon Jun 09 2025 08:34:00 GMT+0000 (Coordinated Universal Time)"
---

# SaaSus Platform ユーザー行動履歴分析手順

## 概要
SaaSus Platformに蓄積されているユーザー行動履歴データを分析し、出力する手順書です。

## 前提条件
- SaaSus API MCP Serverが設定済みであること
- 分析対象のユーザー行動履歴データが蓄積されていること

## MCP Serverへの依頼文言

### ユーザーごとのリファラー分析
```
ユーザーごとのリファラー分析を出力してください。

（;）で始まる行はコメントアウトされており、処理対象外となります

[出力設定]
出力形式 = CSV形式（JSON形式、表形式、YAML形式なども選択可能）
中間成果物は不要
スクリプトやプログラムの作成は禁止
結果の情報のみ出力
キャッシュは使用せず、常に最新の情報を取得

[API使用方法]
1. getsaasusers APIで全ユーザーリストを取得
2. 各ユーザーIDに対してgetuserbehaviorhistories APIを実行
3. 各ユーザーの行動履歴データをリファラー別に集計

[フィールド設定]
ユーザーID = true
リファラー = true
アクセス回数 = true
最初のアクセス日 = true
最終アクセス日 = true

[出力条件]
; 最小アクセス回数 = 5

[フィールド説明]
ユーザーID: 実際のユーザーの識別子（APIから取得した実データを使用）
リファラー: RefererまたはX-SaaSus-Refererヘッダーに設定された値、未設定の場合はブラウザが自動設定したURL
アクセス回数: 該当リファラーでのアクセス回数
最初のアクセス日: 該当リファラーでの最初のアクセス日（YYYY-MM-DD形式）
最終アクセス日: 該当リファラーでの最終アクセス日（YYYY-MM-DD形式）

```

### リファラー別使用回数分析
```
リファラー別使用回数分析を出力してください。

（;）で始まる行はコメントアウトされており、処理対象外となります

[出力設定]
出力形式 = CSV形式（JSON形式、表形式、YAML形式なども選択可能）
中間成果物は不要
スクリプトやプログラムの作成は禁止
結果の情報のみ出力
キャッシュは使用せず、常に最新の情報を取得

[API使用方法]
1. getsaasusers APIで全ユーザーリストを取得
2. 各ユーザーIDに対してgetuserbehaviorhistories APIを実行
3. 全ユーザーのデータを統合してリファラー別に集計

[フィールド設定]
リファラー = true
総アクセス回数 = true
ユニークユーザー数 = true
最初のアクセス日 = true
最後のアクセス日 = true

[出力条件]
; 最小アクセス回数 = 10
; 最小ユニークユーザー数 = 3

[フィールド説明]
リファラー: RefererまたはX-SaaSus-Refererヘッダーに設定された値、未設定の場合はブラウザが自動設定したURL
総アクセス回数: 該当リファラーでの総アクセス回数
ユニークユーザー数: 該当リファラーでアクセスした実際のユニークユーザー数
最初のアクセス日: 該当リファラーでの最初のアクセス日（YYYY-MM-DD形式）
最後のアクセス日: 該当リファラーでの最後のアクセス日（YYYY-MM-DD形式）

```

## 取得される情報

### ユーザーごとのリファラー分析で出力される項目
- **ユーザーID**: SaaSus Platform上で管理されているユーザー識別子
- **リファラー**: RefererまたはX-SaaSus-Refererヘッダーに設定された値
- **アクセス回数**: 各リファラーでのアクセス回数
- **最初のアクセス日**: 最初に該当リファラーでアクセスした日付
- **最終アクセス日**: 最後に該当リファラーでアクセスした日付

### 集計・分析情報
- **総アクセス回数**: リファラー別の総アクセス回数
- **ユニークユーザー数**: リファラー別のユニークユーザー数
- **最初のアクセス日**: リファラー別の初回アクセス日
- **最後のアクセス日**: リファラー別の最終アクセス日

## 注意事項

- 出力されるデータは実行時点での最新情報です
- ログの保持期間は最大1ヶ月となっています
- 1ヶ月より前のデータは自動的に削除されるため取得できません
- 分析期間は実質的に過去30日間程度に制限されます
- 実際のユーザーIDを使用してデータを取得します
- 分析結果の取り扱いには十分注意し、適切なアクセス制御を実施してください

## カスタマイズ

### フィルタ条件の追加
特定の条件でデータを絞り込みたい場合は、依頼文に条件を追加してください。

例：
```
[出力条件]
最小アクセス回数 = 5
最小ユニークユーザー数 = 3
```

### 分析期間の変更
分析期間を変更したい場合は、依頼文に期間を指定してください。ただし、ログ保持期間の制限により最大30日間程度までしか指定できません。
