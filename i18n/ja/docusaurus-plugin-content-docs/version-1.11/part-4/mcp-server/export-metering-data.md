---
title: "メータリングデータCSV出力手順"
slug: "export-metering-data"
excerpt: "MCPサーバーを使用して各テナントの各月のメータリング数値を出力する方法"
hidden: false
createdAt: "Wed Aug 27 2025 01:00:00 GMT+0000 (Coordinated Universal Time)"
updatedAt: "Wed Aug 27 2025 01:00:00 GMT+0000 (Coordinated Universal Time)"
---

# SaaSus Platform メータリングデータCSV出力手順

## 概要
SaaSus Platformの各テナントの各月のメータリング数値を取得し、CSV形式で出力する手順書です。

## 前提条件
- SaaSus API MCP Serverが設定済みであること

## MCP Serverへの依頼文言

### 基本的な依頼文
```
メータリングデータをCSV出力してください。

[出力設定]
出力形式 = CSV
ファイル名 = saasus_metering_data.csv
中間成果物は不要
結果のCSVファイルを直接出力
各テナントの各月のメータリングデータを別の行として出力
キャッシュは使用せず、常に最新の情報を取得

[フィールド設定]
テナントID = true
テナント名 = true
メーター名 = true
使用量 = true
期間 = true
; その他カスタム属性がある場合は、以下に追加してください
; カスタム属性1 = true
; カスタム属性2 = true

[フィールド説明]
テナントID: テナントの一意識別子
テナント名: テナントの表示名
メーター名: メータリング単位の表示名（display_name）
使用量: 該当期間の使用量
期間: メータリング対象期間（例: 2025-8）

[出力条件]
; メータリングデータを出力する際のフィルタ条件を設定します
; 例: 特定のテナントのメータリングデータのみを出力する場合は、以下のように設定します
; テナント名 = 特定のテナント名
; 例: 特定の期間のメータリングデータのみを出力する場合は、以下のように設定します
; 期間 = 2025-8
; 例: 期間範囲を指定してメータリングデータを出力する場合は、以下のように設定します
; 期間開始 = 2025-6
; 期間終了 = 2025-8
; 例: 特定のメーターのメータリングデータのみを出力する場合は、以下のように設定します
; メーター名 = API呼び出し
期間開始 = 2025-6
期間終了 = 2025-8

[出力例]
; 以下は出力されるCSVの例です（2025年6月から8月の期間範囲指定の場合）
; テナントID,テナント名,メーター名,使用量,期間
; tenant-001,株式会社サンプル,API呼び出し,1000,2025-6
; tenant-001,株式会社サンプル,ストレージ,500,2025-6
; tenant-001,株式会社サンプル,API呼び出し,1200,2025-7
; tenant-001,株式会社サンプル,ストレージ,550,2025-7
; tenant-001,株式会社サンプル,API呼び出し,1100,2025-8
; tenant-001,株式会社サンプル,ストレージ,480,2025-8
; tenant-002,テスト企業,API呼び出し,800,2025-6
; tenant-002,テスト企業,ストレージ,300,2025-6
; tenant-002,テスト企業,API呼び出し,850,2025-7
; tenant-002,テスト企業,ストレージ,320,2025-77
; tenant-002,テスト企業,API呼び出し,900,2025-8
; tenant-002,テスト企業,ストレージ,280,2025-8
```

## 出力ファイル形式

### CSVヘッダー
```csv
テナントID,テナント名,メーター名,使用量,期間
```

### データ行の例
```csv
tenant-001,株式会社サンプル,API呼び出し,1000,2025-12
tenant-001,株式会社サンプル,ストレージ,500,2025-12
tenant-002,テスト企業,API呼び出し,800,2025-12
tenant-002,テスト企業,ストレージ,300,2025-12
```



## 注意事項

- 同一テナントが複数のメーターを使用している場合、メーターごとに別の行として出力されます
- 同一テナントが複数の期間のデータを持つ場合、期間ごとに別の行として出力されます
- 期間範囲を指定した場合、指定した範囲内のすべての期間のデータが出力されます
- フィルタ条件を指定した場合、条件に合致するメータリングデータのみが出力されます
- 出力されるデータは実行時点での最新情報です（キャッシュは使用されません）

## カスタマイズ

### フィールドの追加
カスタム属性を出力に含めたい場合は、[フィールド設定]セクションで該当項目を`true`に設定してください。

### フィルタ条件の変更
特定の条件でメータリングデータを絞り込みたい場合は、[出力条件]セクションで条件を指定してください。複数の条件を組み合わせることも可能です。