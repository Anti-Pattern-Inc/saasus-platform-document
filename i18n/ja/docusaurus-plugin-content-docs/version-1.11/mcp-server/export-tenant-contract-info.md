---
title: "契約テナント情報取得手順"
slug: "export-tenant-contract-info"
excerpt: ""
hidden: false
createdAt: "Tue May 28 2024 02:12:00 GMT+0000 (Coordinated Universal Time)"
updatedAt: "Tue May 28 2024 02:12:00 GMT+0000 (Coordinated Universal Time)"
---

# SaaSus Platform 契約テナント情報取得手順

## 概要
SaaSus Platformに登録されている契約テナントの情報を包括的に取得し、表形式で出力する手順書です。

## 前提条件
- SaaSus API MCP Serverが設定済みであること

## MCP Serverへの依頼文言

### 基本的な依頼文
```
契約テナントの情報をまとめてください。

[出力設定]
出力形式 = 表形式
中間成果物は不要
スクリプトやプログラムの作成は禁止
結果の情報のみ出力
キャッシュは使用せず、常に最新の情報を取得

[フィールド設定]
会社名 = true
テナント名 = true
契約中のプラン = true
支払い方法 = true
支払い金額 = true
契約開始日 = true
テナントID = true
代表者メールアドレス = true

[出力条件]
; 契約中のプラン = プラン1
; 支払い方法 = Stripe

[フィールド説明]
会社名: 請求書に記載されるテナント名、設定がない場合はテナント名を出力
テナント名: SaaSus Platform上でのテナント名
契約中のプラン: 現在契約している料金プラン名、契約しているプランがない場合は「未契約」
支払い方法: Awsmarketplace API の GetCustomers に含まれているテナントは「AWS Marketplace」、それ以外のテナントは「Stripe」
支払い金額: 月額料金
契約開始日: プラン契約開始日、プランがない場合は「ー」
テナントID: SaaSus Platform上のテナントID
代表者メールアドレス: テナントの代表者メールアドレス、代表者の設定がない場合は「ー」

[出力例]
会社名	テナント名	契約中のプラン	支払い方法	支払い金額	契約開始日	テナントID	代表者メールアドレス
会社1	テナント1	プラン1	Stripe	¥5,000	2025/05/28	18cf9320-17b1-4805-a407-b418fc8fbd8b	user1-1@example.com
```

## 出力形式

### 表ヘッダー
```
会社名	テナント名	契約中のプラン	支払い方法	支払い金額	契約開始日	テナントID	代表者メールアドレス
```

### データ行の例
```
テナント2	テナント2	プラン2	Stripe	¥10,000	2025/05/28	952301d7-19cd-4bc3-bc90-20e28ab764b0	user1-1@example.com
会社1	テナント1	プラン1	Stripe	¥5,000	2025/05/28	18cf9320-17b1-4805-a407-b418fc8fbd8b	user1-1@example.com
```

## 取得される情報

### テナント基本情報
- **テナント名**: SaaSus Platform上で管理されているテナント名
- **テナントID**: 一意のテナント識別子
- **代表者メールアドレス**: テナントの管理者メールアドレス

### 契約・料金情報
- **契約中のプラン**: 現在適用されている料金プラン
- **支払い方法**: Stripe連携またはAWS Marketplace連携の判定
- **支払い金額**: 月額料金
- **契約開始日**: プラン適用開始日

## 注意事項

- 出力されるデータは実行時点での最新情報です
- 料金プランが設定されていないテナントは「未契約」と表示されます
- AWS Marketplace APIのGetCustomersに含まれていないテナントは支払い方法が「Stripe」と表示されます
- 請求情報が設定されていない場合、会社名はテナント名と同じ値が表示されます
- 契約開始日はUnixタイムスタンプから日付形式に変換されます
- プランが設定されていない場合、契約開始日と支払い金額は「ー」と表示されます

## カスタマイズ

### フィルタ条件の追加
特定の条件でテナントを絞り込みたい場合は、依頼文に条件を追加してください。

例：
```
[出力条件]
契約中のプラン = プラン1
支払い方法 = Stripe
```

### 追加情報の取得
テナントの属性情報やカスタム設定を含めたい場合は、フィールド設定に追加してください。